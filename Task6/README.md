# Задание 6. Настройка Rate Limiting

## Проблема
Один из партнеров отправляет избыточное количество запросов, что снижает производительность приложения и влияет на других партнеров. Необходимо ограничить количество запросов до 10 в минуту.

## Решение

В файле `nginx.conf` добавлены следующие директивы для ограничения запросов:

### Основные настройки
```nginx
limit_req_zone $binary_remote_addr zone=api_limit:10m rate=10r/m;
```
Создает зону для отслеживания запросов с лимитом 10 запросов в минуту по IP адресу.

```nginx
limit_req zone=api_limit burst=5 nodelay;
limit_req_status 429;
```
Применяет ограничение с возможностью кратковременных всплесков до 5 дополнительных запросов. При превышении лимита возвращается HTTP код 429.

### Кастомная страница ошибки
```nginx
error_page 429 @rate_limit_exceeded;

location @rate_limit_exceeded {
    add_header Content-Type application/json always;
    return 429 '{"error": "Rate limit exceeded", "message": "Maximum 10 requests per minute allowed", "retry_after": 60}';
}
```

## Результат
- Максимум 10 запросов в минуту от одного IP
- До 5 дополнительных запросов для всплесков нагрузки  
- HTTP код 429 при превышении лимита
- Информативное сообщение об ошибке в формате JSON 